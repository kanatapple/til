# 式(Expression) と 文(Statement)

## 式(Expression)

値を生成し(返し)、変数に代入できるもの

例
- 42 というリテラル
- foo という変数
- 関数呼び出し式
- 1 + 1 のような式と演算子の組み合わせ

### 特徴

式を評価すると結果の値を得ることができる  
→これを評価値という

## 文(Statement)

処理を実行する1ステップが1つの文  
JavaScript では文の末尾にセミコロンを置くことで文と文に区切りをつける

```
処理する文;
処理する文;
処理する文;
```

例
- if文
- for文

下記のように文の処理の一部として式を含むことがある

```javascript
var isTrue = true;
 
// isTrue という式が文の中に出てくる
if (isTrue) {
}
```

if文やfor文は文であり、式にはならない

式じゃないので、評価結果をfor文に代入できない  
下記は SyntaxError になる

```javascript
var forIsNotExpression = if (true) { }
```

## 式文

式は文になることができる  
文となった式を式文といい、基本的に文が書ける場所に式を書くことができる

式文は文の一種なのでセミコロンで文を区切る

```javascript
式;
```

## ブロック文

下記のように { と } で囲んだ部分をブロック文という  
ブロック文には複数の文を書くことができる

```javascript
{
    文;
    文;
}
```

文の末尾にはセミコロンを付けるが、例外としてブロック文には不要

```javascript
// ブロックで終わらない文なので、セミコロンが必要
if (true) console.log(true);
 
// ブロックで終わる文なので、セミコロンが不要
if (true) {
    console.log(true);
}
```

## function宣言（文）とfunction式

関数には2種類
- functionキーワードから文を開始する関数宣言
- 変数へ関数式を代入する方法

```javascript
// learn関数を宣言する関数宣言文
function learn() {
}
 
// 関数式をread変数へ代入
var read = function() {
};
```

関数宣言文で定義したlearn関数には、セミコロンがない 
これは、ブロックで終わる文にはセミコロンが不要であるため

一方、関数式をread変数へ代入したものには、セミコロンがある
この匿名関数は式であり、この処理は変数を宣言する文の一部 
つまり、次のように置き換えても同じといえるため、末尾にセミコロンが必要

```javascript
function fn {}
 
// fn(式)の評価値を代入する変数宣言の文
var read = fn;
```

## まとめ
JavaScriptには、特殊なルールにもとづき、セミコロンがない文も行末に自動でセミコロンが挿入されるという仕組みがある 
しかし、この仕組みは構文を正しく解析できない場合に、セミコロンを足すという挙動を含む 
これにより、意図しない挙動を生むことがあるので、必ず文の末尾にはセミコロンを書く

